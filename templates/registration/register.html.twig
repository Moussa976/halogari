{% extends 'base.html.twig' %}

{% block title %}HaloGari | Créer un compte
{% endblock %}

{% block stylesheets %}
	<style>
		ul li {
			color: #dc3545 !important;
		}
	</style>
{% endblock %}

{% block body %}
	<div class="container pt-3 pb-5">
		<div class="row justify-content-center">
			<div class="col-md-6">
				<h1 class="mb-4 text-center">Créer un compte</h1>
				{% for flash_error in app.flashes('verify_email_error') %}
					<div class="alert alert-danger" role="alert">{{ flash_error }}</div>
				{% endfor %}

				{{ form_start(registrationForm, { attr: { class: 'bg-light p-4 rounded shadow-sm border' } }) }}

				{% if not registrationForm.vars.valid %}
					<div class="alert alert-danger">
						<strong>Le formulaire contient des erreurs</strong>
						<ul class="mb-0">
							{% for field in registrationForm %}
								{% for error in field.vars.errors %}
									<li>{{ error.message }}</li>
								{% endfor %}
							{% endfor %}
						</ul>
					</div>
				{% endif %}

				<div class="mb-3">
					{{ form_label(registrationForm.nom, 'Nom :', {'label_attr': {'class': 'form-label'}}) }}
					{{ form_widget(registrationForm.nom, {'attr': {'class': 'form-control', 'placeholder': 'Votre nom'}}) }}
					{{ form_errors(registrationForm.nom) }}
				</div>

				<div class="mb-3">
					{{ form_label(registrationForm.prenom, 'Prénom :', {'label_attr': {'class': 'form-label'}}) }}
					{{ form_widget(registrationForm.prenom, {'attr': {'class': 'form-control', 'placeholder': 'Votre prénom'}}) }}
					{{ form_errors(registrationForm.prenom) }}
				</div>

				<div class="mb-3">
					{{ form_label(registrationForm.email, 'Adresse e-mail :', {'label_attr': {'class': 'form-label'}}) }}
					{{ form_widget(registrationForm.email, {'attr': {'class': 'form-control', 'placeholder': 'votre adresse e-mail'}}) }}
					{{ form_errors(registrationForm.email) }}
				</div>

				<div class="mb-3">
					{{ form_label(registrationForm.plainPassword.first, 'Mot de passe :', {'label_attr': {'class': 'form-label'}}) }}
					{{ form_widget(registrationForm.plainPassword.first, {'attr': {'class': 'form-control', 'placeholder': '*****************'}}) }}
					{{ form_errors(registrationForm.plainPassword.first, {'attr': {'class': 'text-danger'}}) }}
				</div>

				<div class="mb-3">
					{{ form_label(registrationForm.plainPassword.second, 'Confirmer le mot de passe :', {'label_attr': {'class': 'form-label'}}) }}
					{{ form_widget(registrationForm.plainPassword.second, {'attr': {'class': 'form-control', 'placeholder': '*****************'}}) }}
					{{ form_errors(registrationForm.plainPassword.second) }}
				</div>

				<div class="mb-3">
					{{ form_label(registrationForm.telephone, 'Téléphone :', {'label_attr': {'class': 'form-label'}}) }}
					{{ form_widget(registrationForm.telephone, {'attr': {'class': 'form-control', 'placeholder': '0639270054'}}) }}
					{{ form_errors(registrationForm.telephone) }}
				</div>

				<div class="form-check mb-3">
					{{ form_widget(registrationForm.agreeTerms, {'attr': {'class': 'form-check-input'}}) }}
					{{ form_label(registrationForm.agreeTerms, 'J\'accepte les conditions d\'utilisation', {'label_attr': {'class': 'form-check-label'}}) }}
					{{ form_errors(registrationForm.agreeTerms) }}
				</div>

				<div class="text-center">
					<button type="submit" class="btn btn-orange">S'inscrire</button>
				</div>

				<hr>
				<p class="text-center">
					<small>Déjà inscrit ?</small>
				</p>
				<div class="text-center">
					<a class="btn btn-success" href="{{ path('app_login') }}" role="button">
						<i class="bi bi-person-circle"></i>
						Se connecter
					</a>
				</div>

				{{ form_end(registrationForm) }}

			</div>
		</div>
	</div>

{% endblock %}
